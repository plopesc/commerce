services:
  commerce_product.attribute_field_manager:
    class: Drupal\commerce_product\ProductAttributeFieldManager
    arguments: ['@entity_field.manager', '@entity_type.bundle.info', '@entity.query', '@cache.data']

  commerce_product.order_item_type_map:
    class: Drupal\commerce_product\OrderItemTypeMap
    arguments: ['@cache.data', '@entity_type.manager']

  commerce_product.lazy_builders:
    class: Drupal\commerce_product\ProductLazyBuilders
    arguments: ['@entity_type.manager', '@entity.form_builder']

  commerce_product.variation_field_renderer:
    class: Drupal\commerce_product\ProductVariationFieldRenderer
    arguments: ['@entity_type.manager', '@entity_field.manager']

  commerce_product.product_variation_render:
    class: Drupal\commerce_product\ProductVariationRendererManager
    tags:
      - { name: service_collector, tag: product_variation_render, call: addRenderer }

  commerce_product.product_variation_render.default:
    class: Drupal\commerce_product\ProductVariationRendererDefault
    arguments: ['@entity_type.manager', '@commerce_product.variation_field_renderer']
    tags:
      - { name: product_variation_render }
